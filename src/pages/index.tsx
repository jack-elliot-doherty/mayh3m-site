import { type NextPage } from "next";
import Head from "next/head";
import { useForm, SubmitHandler } from "react-hook-form";

import { api } from "../utils/api";

type Inputs = {
  name: string;
  email: string;
  why: string;
};

const Home: NextPage = () => {
  const newApplicant = api.applicant.createApplicant.useMutation();

  const {
    register,
    handleSubmit,
    formState: { errors },
  } = useForm<Inputs>();

  const onSubmit: SubmitHandler<Inputs> = (data) => {
    console.log(data);
    newApplicant.mutate(data);
  };

  return (
    <>
      <Head>
        <title>Mayh3m</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/static/favicon.ico" />
      </Head>
      <main className="flex min-h-full items-center justify-center font-semibold">
        <div className="container flex flex-col items-center justify-center gap-16 px-4 py-16 ">
          <img src="/static/img/logo.png"></img>
          <div className="text-center">
            <h1 className="text-2xl">Congratulations</h1>
            <h2 className="text-3xl">
              Welcome to Mayh<span className="text-red-600">3</span>m Clothing
            </h2>
            <p className="text-xl">
              By F<span className="text-red-600">3</span>Z
            </p>
          </div>
          <div className="text-center text-lg">
            <h3>Apply today for our first drop and be 1 of 100.</h3>

            <form onSubmit={handleSubmit(onSubmit)}>
              <div className="">
                <div className="flex">
                  <label
                    htmlFor="name"
                    className="text-sm font-medium text-gray-700"
                  >
                    Name
                  </label>
                  <div className="relative mt-1 rounded-md shadow-sm">
                    <input
                      type="text"
                      id="name"
                      {...register("name")}
                      className="block w-full rounded-md border-gray-300 pl-7 pr-12 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
                      placeholder="your name"
                    />
                  </div>
                </div>
              </div>

              <div>
                <div className="flex">
                  <label
                    htmlFor="email"
                    className="block text-sm font-medium text-gray-700"
                  >
                    Email
                  </label>
                  <div className="relative mt-1 rounded-md shadow-sm">
                    <input
                      type="text"
                      id="email"
                      {...register("email")}
                      className="block w-full rounded-md border-gray-300 pl-7 pr-12 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
                      placeholder="example@gmail.com"
                    />
                  </div>
                </div>
              </div>

              <div>
                <div className="flex">
                  <label
                    htmlFor="email"
                    className="block text-sm font-medium text-gray-700"
                  >
                    Why you?
                  </label>
                  <div className="relative mt-1 rounded-md shadow-sm">
                    <textarea
                      id="why"
                      {...register("why")}
                      className="block w-full rounded-md border-gray-300 pl-7 pr-12 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm"
                      placeholder="why you?"
                    />
                  </div>
                </div>
              </div>
            </form>
          </div>
        <div className="flex justify-end p-6">
          <div className="p-1">
            <a
              href="https://www.instagram.com/mayhemclothing/"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img className="h-auto w-5" src="/static/img/instagram.png"></img>
            </a>
          </div>
          <div className="p-1">
            <a
              href="https://www.facebook.com/mayhemclothing/"
              target="_blank"
              rel="noopener noreferrer"
            >
              <img className="h-auto w-5" src="/static/img/facebook.png"></img>
            </a>
          </div>
        </div>
        </div>
        
      
      </main>
    </>
  );
};

export default Home;
